global proc blender (){	// Find all the info on the blend node	// on current object	// Build Selection List	string $sel[] = `ls -selection`;		// Check to make sure the user has a single	// object selected	if ( `size $sel` != 1 )		error "Please select a blendshape object";		// Get the history listing for the object	// to find any blendshapes	string $hist[] = `listHistory`;	string $attribs[], $blendShapeNode;		// Find the blendshape	for ( $each in $hist )		if ( `nodeType $each` == "blendShape" )			$blendShapeNode = $each;		// This finds the names of the attributes	// that drive the blend shape definition	string $contrib[] = `listAttr -multi ( $blendShapeNode + ".weight" )`;		if ( `size $contrib` > 0 )//we build only if we qualify		{			// Build Window			int $windowWidth = 750;						if( `window -exists blenderUI` != 1 )				{					window						-maximizeButton false						-resizeToFitChildren false						-title "Blender"						-iconName "Blender"						-menuBar false						-widthHeight $windowWidth 274						blenderUI;										// Form Layout					string $blenderForm = `formLayout												-numberOfDivisions 100`;										//Pane Layout					string $modPane = `paneLayout											-configuration single`;										//Modeling Pane					string $modEdit = `modelEditor											-displayAppearance smoothShaded											-grid 0`											;										// CHANGE CAMERA USED HERE					modelEditor						-edit						-camera perspShape						$modEdit;										setParent..; //up to form										string $blenderColumn = `columnLayout												-adjustableColumn true												-rowSpacing 5`;										for ( $each in $contrib )						{							rowLayout								-numberOfColumns 2								-columnWidth2 $windowWidth 50								-adjustableColumn 1								-columnAlign 1 center								-columnAlign 2 center								-columnAttach 1 both 0								-columnAttach 2 both 0								;														attrFieldSliderGrp											-min 0.0											-max 1.0											-at ( $blendShapeNode + "." + $each )											-label $each											-adjustableColumn 3											-columnAlign 1 right											-columnWidth 1 90											-columnWidth 4 1											;														button								-label "Key"								-align center								-command ( "setKeyframe " + $blendShapeNode + "." + $each );														setParent..; //back to Column						}										formLayout							-edit							-attachForm $modPane "top" 2							-attachForm $modPane "left" 2							-attachForm $modPane "bottom" 2							-attachPosition $modPane "right" 0 45							$blenderForm;										showWindow blenderUI;				}		}}